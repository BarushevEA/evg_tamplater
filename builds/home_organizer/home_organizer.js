(()=>{"use strict";let t,e,s,i,n;const o=new class{constructor(o,a,r,h){e=o,s=a,i=r,n=h,t=this}set major(t){s=t}set minor(t){i=t}set patch(t){n=t}set name(t){e=t}get version(){return`${s}.${i}.${n}`}get name(){return e}get description(){return`[${e} version: ${this.version}]`.toUpperCase()}init(e){e||function(...e){t?console.log(t.description,...e):console.log("APP",...e)}("STARTED")}}("home_organizer",1,0,0);var a;function r(t,e){const s=t.indexOf(e);return-1!==s&&(t[s]=t[t.length-1],t.length=t.length-1,!0)}function h(t){return"next"in t?e=>t.next(e):t}!function(t){t.EN="EN",t.UA="UA",t.HE="HE",t.RU="RU"}(a||(a={}));class c{constructor(t){this.pipe=t,this.counter=t.chain.length?t.chain.length:0}case(t){this.counter++;const e=this.counter,s=this.pipe.chain;return s.push((i=>{i.isAvailable=!0,t(i.payload)&&(i.isBreak=!0),e!==s.length||i.isBreak||(i.isAvailable=!1)})),this}pushCases(t){if(!Array.isArray(t))return this;for(let e=0;e<t.length;e++)this.case(t[e]);return this}}class l{constructor(){this.chain=[],this.flow={isBreak:!1,isUnsubscribe:!1,isAvailable:!1,payload:null}}refine(t){return this.push((e=>t(e.payload)&&(e.isAvailable=!0)))}setOnce(){return this.push((t=>{this.listener(t.payload),t.isUnsubscribe=!0}))}unsubscribeBy(t){return this.push((e=>{e.isAvailable=!0,t(e.payload)&&(e.isUnsubscribe=!0)}))}processChain(t){const e=this.chain,s=this.flow;for(let t=0;t<e.length;t++){if(s.isUnsubscribe=!1,s.isAvailable=!1,e[t](s),s.isUnsubscribe)return this.unsubscribe();if(!s.isAvailable)return;if(s.isBreak)break}return t(s.payload)}pushRefiners(t){if(!Array.isArray(t))return this;for(let e=0;e<t.length;e++)this.refine(t[e]);return this}switch(){return new u(this)}then(t){return this.push((e=>{e.payload=t(e.payload),e.isAvailable=!0}))}serialize(){return this.push((t=>{t.payload=JSON.stringify(t.payload),t.isAvailable=!0}))}deserialize(){return this.push((t=>{t.payload=JSON.parse(t.payload),t.isAvailable=!0}))}push(t){return this.chain.push(t),this}}class u extends c{subscribe(t,e){return this.pipe.subscribe(t,e)}}class d extends l{get order(){return this._order}constructor(t,e){super(),this._order=0,this.paused=!1,this.piped=!1,this.errorHandler=(t,e)=>{console.log(`(Unit of SubscribeObject).send(${t}) ERROR:`,e)},this.observer=t,this.piped=!!e}subscribe(t,e){return this.listener=function(t){if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++)e.push(h(t[s]));return t=>{for(let s=0;s<e.length;s++)e[s](t)}}return h(t)}(t),e&&(this.errorHandler=e),this}send(t){try{this.flow.payload=t,this.flow.isBreak=!1,this.processValue(t)}catch(e){this.errorHandler(t,e)}}resume(){this.paused=!1}pause(){this.paused=!0}unsubscribe(){this.observer&&(this.observer.unSubscribe(this),this.observer=null,this.listener=null,this.chain.length=0)}set order(t){this._order=t}processValue(t){const e=this.listener;return e?this.observer&&!this.paused?this.piped?this.processChain(e):e(t):void 0:this.unsubscribe()}}class m{constructor(){this.chain=[],this.flow={isBreak:!1,isAvailable:!1,payload:null},this.response={isOK:!1,payload:void 0}}get isEmpty(){return!this.chain.length}push(t){return this.chain.push(t),this}filter(t){return this.push((e=>t(e.payload)&&(e.isAvailable=!0)))}pushFilters(t){if(!Array.isArray(t))return this;for(let e=0;e<t.length;e++)this.filter(t[e]);return this}switch(){return new _(this)}processChain(t){const e=this.chain,s=this.flow,i=this.response;i.isOK=!1,i.payload=void 0,s.payload=t,s.isBreak=!1;try{for(let t=0;t<e.length;t++){if(s.isAvailable=!1,e[t](s),!s.isAvailable)return i;if(s.isBreak)break}}catch(t){return this.errHandler?this.errHandler(t,"Filter.processChain ERROR:"):console.log("Filter.processChain ERROR:",t),i}return i.isOK=!0,i.payload=s.payload,i}addErrorHandler(t){this.errHandler=t}}class _ extends c{}class p{constructor(t){this.value=t,this.subs=[],this.enabled=!0,this.killed=!1,this.process=!1,this.trash=[],this.filters=new m}addFilter(t){return t&&this.filters.addErrorHandler(t),this.filters}disable(){this.enabled=!1}enable(){this.enabled=!0}get isEnable(){return this.enabled}next(t){if(!this.killed&&this.enabled&&(this.filters.isEmpty||this.filters.processChain(t).isOK)){this.process=!0,this.value=t;for(let e=0;e<this.subs.length;e++)this.subs[e].send(t);this.process=!1,this.trash.length&&this.clearTrash()}}stream(t){if(!this.killed&&this.enabled)for(let e=0;e<t.length;e++)this.next(t[e])}get isDestroyed(){return this.killed}unSubscribe(t){this.killed||(this.process&&t?this.trash.push(t):this.subs&&r(this.subs,t))}destroy(){if(this.killed)return;if(this.killed=!0,!this.process)return this.value=null,void(this.subs.length=0);const t=setInterval((()=>{this.process||(clearInterval(t),this.value=null,this.subs.length=0)}),10)}unsubscribeAll(){this.killed||(this.subs.length=0)}getValue(){if(!this.killed)return this.value}size(){return this.killed?0:this.subs.length}subscribe(t,e){if(this.killed)return;if(!this.isListener(t))return;const s=new d(this,!1);return this.addObserver(s,t,e),s}addObserver(t,e,s){t.subscribe(e,s),this.subs.push(t)}isListener(t){return!this.killed&&!!t}pipe(){if(this.killed)return;const t=new d(this,!0);return this.subs.push(t),t}clearTrash(){const t=this.trash.length;for(let e=0;e<t;e++)this.unSubscribe(this.trash[e]);this.trash.length=0}}class g{constructor(){this.arr=[],this.killed=!1}collect(...t){this.killed||this.arr.push(...t)}unsubscribe(t){this.killed||(t?.unsubscribe(),r(this.arr,t))}unsubscribeAll(){if(!this.killed)for(;this.arr.length>0;)this.unsubscribe(this.arr.pop())}size(){return this.killed?0:this.arr.length}destroy(){this.unsubscribeAll(),this.arr.length=0,this.arr=0,this.killed=!0}get isDestroyed(){return this.killed}}const E=new p(a.EN),T=new class{get currentLocation(){return E.getValue()}getLocalizedText(t,e){return t[e]}getLocalizedTextByLocation(t){return t[this.currentLocation]}onLocationChange(t){return E.subscribe(t)}setLocation(t){E.next(t)}destroy(){E.destroy()}};var A,N,b,C,f,L,O;!function(t){t.NULL="NULL",t.SETTINGS="SETTINGS",t.ACCOUNT="ACCOUNT",t.CHOICE="CHOICE"}(A||(A={})),function(t){t.NULL="NULL",t.SHOW="SHOW",t.ITEM_CLICK="ITEM_CLICK"}(N||(N={})),function(t){t.LIGHT="LIGHT",t.DARK="DARK"}(b||(b={})),function(t){t.DEFAULT="DEFAULT"}(C||(C={})),function(t){t.LANGUAGE="LANGUAGE",t.THEME="THEME",t.TIME_OPTION="TIME_OPTION"}(f||(f={})),function(t){t.TASKS="TASKS",t.FAVORITE="FAVORITE",t.FOOD="FOOD",t.GOODS="GOODS"}(L||(L={})),function(t){t.SIGN_IN="SIGN_IN",t.REGISTER="REGISTER",t.EDIT="EDIT",t.SIGN_OUT="SIGN_OUT",t.DELETE="DELETE"}(O||(O={}));const U=[a.EN,a.UA,a.RU],S={language:{[a.EN]:"Language",[a.RU]:"Язык",[a.UA]:"Мова"},theme:{[a.EN]:"Theme",[a.RU]:"Тема",[a.UA]:"Тема"},timeOption:{[a.EN]:"Time option",[a.RU]:"Настройка времени",[a.UA]:"Налаштування часу"}},I={tasks:{[a.EN]:"Current tasks",[a.RU]:"Текущие задачи",[a.UA]:"Поточні завдання"},favorite:{[a.EN]:"Favorite",[a.RU]:"Избранное",[a.UA]:"Обране"},food:{[a.EN]:"Food",[a.RU]:"Продукты питания",[a.UA]:"Продукти харчування"},goods:{[a.EN]:"Goods",[a.RU]:"Непродовольственные товары",[a.UA]:"Непродовольчі товари"}},D={signIn:{[a.EN]:"Sign in",[a.RU]:"Войти",[a.UA]:"Увійти"},register:{[a.EN]:"Register",[a.RU]:"Зарегистрировать",[a.UA]:"Зрареєструвати"},edit:{[a.EN]:"Edit",[a.RU]:"Редактировать",[a.UA]:"Редагувати"},signOut:{[a.EN]:"Sign out",[a.RU]:"Выйти",[a.UA]:"Вийти"},delete:{[a.EN]:"Delete",[a.RU]:"Удалить",[a.UA]:"Видалити"}},R={choice:{[a.EN]:"User tasks",[a.RU]:"Задачи пользователя",[a.UA]:"Завдання користувача"},account:{[a.EN]:"Account settings",[a.RU]:"Настройки аккаунта",[a.UA]:"Налаштування акаунту"},settings:{[a.EN]:"Settings",[a.RU]:"Настройки",[a.UA]:"Налаштування"}},w={isShow:!1,owner:A.NULL,menuAction:N.NULL,item:""},y={[A.SETTINGS]:R.settings,[A.ACCOUNT]:R.account,[A.CHOICE]:R.choice},k={[f.LANGUAGE]:S.language,[f.THEME]:S.theme,[f.TIME_OPTION]:S.timeOption},M={[L.FAVORITE]:I.favorite,[L.FOOD]:I.food,[L.GOODS]:I.goods,[L.TASKS]:I.tasks},F={[O.SIGN_IN]:D.signIn,[O.SIGN_OUT]:D.signOut,[O.REGISTER]:D.register,[O.EDIT]:D.edit,[O.DELETE]:D.delete};var v,x,P;!function(t){t.TASKS="TASKS",t.FAVORITE="FAVORITE",t.FOOD="FOOD",t.GOODS="GOODS"}(v||(v={})),function(t){t.NULL="NULL",t.FOOD="FOOD",t.GOODS="GOODS"}(x||(x={})),function(t){t.FAVORITE_CLICK="FAVORITE_CLICK"}(P||(P={}));const $=new p(w),H=new p(v.TASKS),V=new p([]);function B(){return $.getValue().isShow}function K(){const t=$.getValue();t.isShow&&(t.isShow=!1,t.owner=A.NULL,t.menuAction=N.SHOW,$.next(t))}function G(t){const e=$.getValue();return!!function(t,e){return t.menuAction!==N.SHOW||t.owner===A.NULL||t.owner===e}(e,t)&&(e.isShow=!0,e.owner=t,e.menuAction=N.SHOW,$.next(e),!0)}const z={[v.FAVORITE]:t=>t.isFavorite,[v.FOOD]:t=>t.type===x.FOOD,[v.GOODS]:t=>t.type===x.GOODS,[v.TASKS]:t=>t.isSelected},W=new class{setTaskList(t){H.next(t)}getCurrentTaskList(){return H.getValue()}getTasks(){return V.getValue()}getTasksByList(t){const e=this.getTasks(),s=z[t];return e.filter((t=>s(t)))}getSelectedTasks(){return this.getTasksByList(v.TASKS)}getSelectedTasksSum(){const t=this.getSelectedTasks();return 0===t.length?0:t.reduce(((t,e)=>t+e.count*e.price),0)}clickHandler(t,e,s){switch(t.stopPropagation(),t.preventDefault(),this.getCurrentTaskList()){case v.FAVORITE:this.setFavoriteViewAction(e,s);break;case v.TASKS:this.setTasksViewAction(e,s);break;case v.FOOD:this.setFoodViewAction(e,s);break;case v.GOODS:this.setGoodsViewAction(e,s)}}setFavoriteViewAction(t,e){console.log("setFavoriteViewAction",e,t),e===P.FAVORITE_CLICK&&this.changeFavorite(t)}setTasksViewAction(t,e){console.log("setTasksViewAction",e,t)}setFoodViewAction(t,e){console.log("setFoodViewAction",e,t),e===P.FAVORITE_CLICK&&this.changeFavorite(t)}setGoodsViewAction(t,e){console.log("setGoodsViewAction",e,t),e===P.FAVORITE_CLICK&&this.changeFavorite(t)}changeFavorite(t){const e=this.getTask(t);e&&(e.isFavorite=!e.isFavorite,this.update())}update(t){let e=t||this.getTasks();for(const t of e)t.cost=t.count*t.price;V.next(e)}getTask(t){const e=this.getTasks();for(const s of e)if(s.id===t)return s}},X={comment:{[a.EN]:"Comment",[a.RU]:"Комментарий",[a.UA]:"Коментарій"},cost:{[a.EN]:"Amount",[a.RU]:"Всего",[a.UA]:"Усього"},count:{[a.EN]:"Quantity",[a.RU]:"Количество",[a.UA]:"Кількість"},description:{[a.EN]:"Description",[a.RU]:"Описание",[a.UA]:"Опис"},name:{[a.EN]:"Name",[a.RU]:"Имя",[a.UA]:"Ім'я"},price:{[a.EN]:"Price",[a.RU]:"Цена",[a.UA]:"Вартість"},type:{[a.EN]:"Type",[a.RU]:"Тип",[a.UA]:"Тип"}},Q={selectedSum:{[a.EN]:"Total cost",[a.RU]:"Общая стоимость",[a.UA]:"Загальна вартість"}};function Y(t){let e=""+t;return e.length<2&&(e="0"+e),e}const j=window,q=document;let J=new Uint8Array(16);j.top;const Z=`${j.crypto.getRandomValues(J),Array.from(J,(function(t){return`0${t.toString(16)}`.slice(-2)})).join("")}${Date.now()}`,tt="_______$$bool",et=[0];let st=[];var it,nt,ot;!function(t){t.UNDEFINED="",t.TRUE="TRUE",t.FALSE="FALSE"}(it||(it={})),function(t){t.INFO="i",t.SOURCE="src",t.INJECT_TO="inject_to",t.CHANNEL="channel",t.ON_CLICK="click",t.ON_CHANGE="change",t.ON_KEY_DOWN="keydown",t.ON_KEY_UP="keyup",t.ON_KEY_DBL_CLICK="dblclick",t.ON_SCROLL="scroll",t.ON_WHEEL="wheel",t.ON_MOUSE_LEAVE="mouseleave",t.ON_MOUSE_ENTER="mouseenter",t.ON_MOUSE_UP="mouseup",t.ON_MOUSE_DOWN="mousedown",t.ON_MOUSE_MOVE="mousemove",t.ON_HANDLE="handle",t.ON_IF="if",t.CLASS_IF="cls",t.FOR="for"}(nt||(nt={})),function(t){t.TEXT_VALUE="TXT-VAL",t.QSI_BIND="QSI-BIND",t.APP_ROUTE="QSI-ROUTE",t.APP_SUB_ROUTE="QSI-SUBROUTE"}(ot||(ot={}));const at=t=>q.createElement(t),rt=t=>{const e=at("style");return e.innerHTML=t,e},ht=(t,e)=>{if(t)for(let s=0;s<e.length;s++)t.classList.remove(e[s])},ct=(t,e)=>{if(t)for(let s=0;s<e.length;s++)t.classList.add(e[s])},lt=(t,e)=>{e&&t?.appendChild(e)},ut=t=>{t?.remove()},dt=new p(null),mt=t=>{dt.pipe().refine((t=>!!t)).setOnce().subscribe(t),dt.pipe().unsubscribeBy((t=>!!t)).setOnce().subscribe((()=>{const t=()=>{dt.next(q.body),q.removeEventListener("DOMContentLoaded",t)};q.addEventListener("DOMContentLoaded",t)})),dt.next(q.body)},_t=t=>`qsi-${t}`,pt=(t,e)=>t?t.getAttribute(_t(e)):"",gt=(t,e,s)=>{t&&t.setAttribute(_t(e),s)},Et=(t,e)=>{t&&t.removeAttribute(_t(e))},Tt=(t,e)=>{if(!e.length)return;let s="[";if(e.length>1){for(let i=0;i<e.length;i++){const n=e[i];s+=Nt(t,n),gt(n,nt.INFO,s.trim()+"]"),n.ahe_pnt_chl=t,n.ahe_onPChlRdy$.next(t)}return}const i=e[0];Ut(t,i)?gt(i,nt.INFO,s+"var]"):St(t,i)?gt(i,nt.INFO,s+"bind]"):(s+=Rt(t,i),s+=wt(t,i),s+=Dt(t,i),s+=yt(t,i),s+=kt(t,i),s+=Mt(t,i),s+=Ft(t,i),s+=vt(t,i),s+=xt(t,i),s+=Pt(t,i),s+=$t(t,i),s+=Ht(t,i),s+=Vt(t,i),s+=Bt(t,i),s+=Kt(t,i),s+=Wt(t,i),s+=Nt(t,i),s+=At(t,i),gt(i,nt.INFO,s.trim()+"]"),i.ahe_isCustomAppElement&&(i.ahe_pnt_chl=t,i.ahe_onPChlRdy$.next(t)))},At=(t,e)=>{let s=pt(e,nt.CLASS_IF);if(!s)return"";const i=s.split(" "),n=[],o={element:e,classConditions:n};for(let e=0;e<i.length;e++){const s=i[e];if(s.includes("?")){const e=s.split("?"),i=Ot(t,e[0]),o=e[1].split(":");n.push({conditionName:i.valueName,isFunction:i.isFunction,isInversion:i.isInversion,isConditionDisabled:!1,oldCondition:it.UNDEFINED,firstClassName:o[0],secondClassName:o[1]})}else if(s.includes(":")){const e=s.split(":"),i=Ot(t,e[1]);n.push({conditionName:i.valueName,isFunction:i.isFunction,isInversion:i.isInversion,isConditionDisabled:!1,oldCondition:it.UNDEFINED,firstClassName:e[0],secondClassName:""})}else n.push({conditionName:"",isFunction:!1,isInversion:!1,isConditionDisabled:!0,oldCondition:it.UNDEFINED,firstClassName:s,secondClassName:""})}return t.ahe_ClsIfLst.push(o),Et(e,nt.CLASS_IF),"cls "},Nt=(t,e)=>{let s=pt(e,nt.ON_IF);if(!s)return"";const i=bt(),n=e.parentElement,o=Ot(t,s);return t.ahe_IfLst.push({ifElement:e,valueName:o.valueName,ifParent:i,oldCondition:!1,isInversion:o.isInversion,isFunction:o.isFunction}),n.insertBefore(i,e),ut(e),Et(e,nt.ON_IF),gt(i,nt.INFO,"[ifp]"),"ifc "};(()=>{for(let t=0;t<1e4;t++)st.push(at(ot.TEXT_VALUE))})();const bt=()=>st.length?st.pop():at(ot.TEXT_VALUE),Ct=(t,e)=>{if(e.tagName===ot.TEXT_VALUE)return(et[0]=e)&&et;if(e.tagName===ot.QSI_BIND)return(et[0]=e)&&et;if(!t.isAppElement(e))return(et[0]=e)&&et;const s=pt(e,nt.FOR);if(!s)return(et[0]=e)&&et;const i=t.ahe_cmt[s];if(!i)return(et[0]=e)&&et;const n=bt(),o=e.parentElement,a=Lt(t,[],i,n,e);return gt(n,nt.INFO,"[for-of]"),o.insertBefore(n,e),ut(e),Et(e,nt.FOR),t.ahe_ForOfLst.push({parent:n,template:e,children:a,valueName:s}),a},ft=(t,e,s)=>{s.isAppElement(e)&&e.sendMessage(t)},Lt=(t,e,s,i,n)=>{const o=[],a=e.length,h=s.length;let c=h-a;if(!(h+a))return o;if(c>0){for(let a=0;a<c;a++){const r=at(n.tagName);e.push(r),o.push(r);const l=pt(n,nt.ON_IF);l&&gt(r,nt.ON_IF,l),lt(i,r),ft(s[h-c+a],r,t)}for(let i=0;i<h-c;i++)ft(s[i],e[i],t)}else{c*=-1;for(let s=0;s<c;s++){const s=e.pop(),i=t.ahe_IfLst;let n;for(let t=0;t<i.length;t++){const e=i[t];if(e.ifElement===s){n=e;break}}n?(r(i,n),ut(n.ifParent)):ut(s)}for(let i=0;i<h;i++)ft(s[i],e[i],t)}return o},Ot=(t,e)=>{const s="!"===e[0],i=s?e.substring(1):e;return{isInversion:s,valueName:i,isFunction:"function"==typeof t.ahe_cmt[i]}},Ut=(t,e)=>{if(e.tagName!==ot.TEXT_VALUE)return!1;if(!e.innerHTML)return!1;const s=Ot(t,e.innerHTML);return s.isFunction?(t.ahe_nFns.push({textElement:e,valueName:s.valueName,lastData:Z}),!0):(t.ahe_nVls.push({textElement:e,valueName:s.valueName,lastData:Z}),!0)},St=(t,e)=>{if(e.tagName!==ot.QSI_BIND)return!1;if(!e.innerHTML)return!1;const s=Ot(t,e.innerHTML);return s.isFunction?(t.ahe_bndFns.push({textElement:e,valueName:s.valueName,lastData:Z}),!0):(t.ahe_bndVls.push({textElement:e,valueName:s.valueName,lastData:Z}),!0)},It=(t,e,s)=>{t.ahe_cmt[e](s)},Dt=(t,e)=>{const s=zt(e,nt.SOURCE);if(!s)return"";const i=Ot(t,s);return i.isFunction?(t.ahe_srcCmsFns.push({textElement:e,valueName:i.valueName,lastData:""}),"src "):(t.ahe_srcCms.push({textElement:e,valueName:s,lastData:""}),"src ")},Rt=(t,e)=>{const s=zt(e,nt.INJECT_TO);return s?(t.ahe_cmt[s]=e,"inj "):""},wt=(t,e)=>{const s=zt(e,nt.CHANNEL);return s&&e.ahe_isCustomAppElement?(t.ahe_cmt[s]=e,"cnl "):""},yt=(t,e)=>{const s=Gt(t,e,nt.ON_CLICK);return s?(e.onclick=e=>It(t,s,e),"clk "):""},kt=(t,e)=>{const s=Gt(t,e,nt.ON_MOUSE_LEAVE);return s?(e.onmouseleave=e=>It(t,s,e),"mlv "):""},Mt=(t,e)=>{const s=Gt(t,e,nt.ON_MOUSE_ENTER);return s?(e.onmouseenter=e=>It(t,s,e),"mer "):""},Ft=(t,e)=>{const s=Gt(t,e,nt.ON_MOUSE_UP);return s?(e.onmouseup=e=>It(t,s,e),"mup "):""},vt=(t,e)=>{const s=Gt(t,e,nt.ON_MOUSE_DOWN);return s?(e.onmousedown=e=>It(t,s,e),"mdn "):""},xt=(t,e)=>{const s=Gt(t,e,nt.ON_MOUSE_MOVE);return s?(e.onmousemove=e=>It(t,s,e),"mmv "):""},Pt=(t,e)=>{const s=Gt(t,e,nt.ON_KEY_DOWN);return s?(e.onkeydown=e=>It(t,s,e),"kdn "):""},$t=(t,e)=>{const s=Gt(t,e,nt.ON_KEY_UP);return s?(e.onkeyup=e=>It(t,s,e),"kup "):""},Ht=(t,e)=>{const s=Gt(t,e,nt.ON_KEY_DBL_CLICK);return s?(e.ondblclick=e=>It(t,s,e),"dbc "):""},Vt=(t,e)=>{const s=Gt(t,e,nt.ON_SCROLL);return s?(e.onscroll=e=>It(t,s,e),"scl "):""},Bt=(t,e)=>{const s=Gt(t,e,nt.ON_WHEEL);return s?(e.onwheel=e=>It(t,s,e),"whl "):""},Kt=(t,e)=>{const s=Gt(t,e,nt.ON_CHANGE);return s?(e.onchange=e=>It(t,s,e),"chg "):""},Gt=(t,e,s)=>{const i=pt(e,s);return i?(Xt(t,i,e),Et(e,s),i):""},zt=(t,e)=>{const s=pt(t,e);return s?(Et(t,e),s):""},Wt=(t,e)=>{const s=pt(e,nt.ON_HANDLE);return s?(Xt(t,s,e),Et(e,nt.ON_HANDLE),"elt "):""},Xt=(t,e,s)=>{const i=t.ahe_cmt[e];i&&(i.htmlElements||(i.htmlElements={}),i.htmlElements[t.ahe_nmr]||(i.htmlElements[t.ahe_nmr]=[]),t.ahe_clr.collect(t.beforeDestroy$().subscribe((t=>t&&(i.htmlElements={})))),i.htmlElements[t.ahe_nmr].push(s))},Qt=t=>{t.ahe_nFns.length=0,t.ahe_srcCmsFns.length=0,t.ahe_srcCms.length=0,t.ahe_nVls.length=0,t.ahe_bndFns.length=0,t.ahe_bndVls.length=0,t.ahe_IfLst.length=0,t.ahe_ClsIfLst.length=0,t.ahe_ForOfLst.length=0,t.innerHTML=""};let Yt=0;function jt(t){class e extends HTMLElement{constructor(){super(),this.ahe_nmr=0,this.tagName!==ot.TEXT_VALUE&&this.tagName!==ot.QSI_BIND&&(this.ahe_opts=t,this.ahe_cmt=new t.element(this),this.tagName!==ot.APP_ROUTE&&this.tagName!==ot.APP_SUB_ROUTE&&(this.ahe_nmr=Yt,Yt++,this.ahe_isCustomAppElement=!0,this.ahe_clr=new g,this.ahe_onAdt$=new p(!1),this.ahe_bfrIni$=new p(!1),this.ahe_bfrDst$=new p(!1),this.ahe_atrChd$=new p(void 0),this.ahe_bfrDctChg$=new p(!1),this.ahe_onChgDtd$=new p(!1),this.ahe_onMsg$=new p(void 0),this.ahe_onPChlRdy$=new p(void 0),this.ahe_nFns=[],this.ahe_srcCmsFns=[],this.ahe_srcCms=[],this.ahe_nVls=[],this.ahe_bndFns=[],this.ahe_bndVls=[],this.ahe_IfLst=[],this.ahe_ClsIfLst=[],this.ahe_ForOfLst=[],"onCreate"in this.ahe_cmt&&this.ahe_cmt.onCreate()))}parentChanelReady$(){return this.ahe_onPChlRdy$}adopted$(){return this.ahe_onAdt$}beforeInit$(){return this.ahe_bfrIni$}beforeDestroy$(){return this.ahe_bfrDst$}attributeChange$(){return this.ahe_atrChd$}beforeChanges$(){return this.ahe_bfrDctChg$}changesDetected$(){return this.ahe_onChgDtd$}onMessage$(){return this.ahe_onMsg$}connectedCallback(){this.tagName!==ot.TEXT_VALUE&&this.tagName!==ot.QSI_BIND&&(this.tagName!==ot.APP_ROUTE&&this.tagName!==ot.APP_SUB_ROUTE?pt(this,nt.ON_IF)&&!this.ahe_cmt[tt]||(this.ahe_bfrIni$.next(!0),this.ahe_opts.template&&(this.innerHTML=this.ahe_opts.template),(t=>{const e=t.querySelectorAll(`*:not([${_t(nt.INFO)}])`);for(let s=0;s<e.length;s++)Tt(t,Ct(t,e[s]))})(this),"onMessage"in this.ahe_cmt&&this.collect(this.ahe_onMsg$.subscribe((t=>this.ahe_cmt.onMessage(t)))),"onInit"in this.ahe_cmt&&this.ahe_cmt.onInit(),this.detectChanges(!0)):this.ahe_cmt.onInit())}disconnectedCallback(){if(this.tagName!==ot.TEXT_VALUE)this.tagName!==ot.QSI_BIND&&this.tagName!==ot.APP_ROUTE&&this.tagName!==ot.APP_SUB_ROUTE&&(!pt(this,nt.ON_IF)||this.ahe_cmt[tt]?(this.ahe_bfrDst$.next(!0),Qt(this),this.ahe_clr.unsubscribeAll(),this.ahe_onAdt$.unsubscribeAll(),this.ahe_bfrIni$.unsubscribeAll(),this.ahe_bfrDst$.unsubscribeAll(),this.ahe_atrChd$.unsubscribeAll(),this.ahe_bfrDctChg$.unsubscribeAll(),this.ahe_onChgDtd$.unsubscribeAll(),this.ahe_onMsg$.unsubscribeAll(),this.ahe_onPChlRdy$.unsubscribeAll(),"onDestroy"in this.ahe_cmt&&this.ahe_cmt.onDestroy()):this.ahe_cmt[tt]=!0);else{if(st.length>=1e4)return;""==this.innerHTML&&(Et(this,nt.INFO),st.push(this))}}attributeChangedCallback(t,e,s){this.ahe_atrChd$?.next({name:t,oldValue:e,newValue:s})}adoptedCallback(){this.ahe_onAdt$?.next(!0)}getElementsBoundToMethod(t){return t&&t.htmlElements&&t.htmlElements[this.ahe_nmr]?t.htmlElements[this.ahe_nmr]:[]}detectChanges(t){this.ahe_bfrDctChg$.next(!0),!t&&this.ahe_ForOfLst.length&&(t=>{const e=t.ahe_ForOfLst,s=t.ahe_cmt;for(let i=0;i<e.length;i++){const n=e[i],o=Lt(t,n.children,s[n.valueName],n.parent,n.template);Tt(t,o)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_IfLst.length;s++){const i=t.ahe_IfLst[s];let n=i.isFunction?!!e[i.valueName]():!!e[i.valueName];if(i.isInversion&&(n=!n),n===i.oldCondition)continue;i.oldCondition=n;const o=i.ifParent.contains(i.ifElement);n?o||lt(i.ifParent,i.ifElement):o&&ut(i.ifElement)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_ClsIfLst.length;s++){const{classConditions:i,element:n}=t.ahe_ClsIfLst[s];for(let t=0;t<i.length;t++){const s=i[t];let o;if(s.isConditionDisabled)o=it.TRUE;else{let t=s.isFunction?!!e[s.conditionName]():!!e[s.conditionName];s.isInversion&&(t=!t),o=t?it.TRUE:it.FALSE}if(o===s.oldCondition)continue;s.oldCondition=o;const{firstClassName:a,secondClassName:r}=s;r?o===it.TRUE?(ct(n,[a]),ht(n,[r])):(ct(n,[r]),ht(n,[a])):s.isConditionDisabled||o===it.TRUE?ct(n,[a]):ht(n,[a])}}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_bndVls.length;s++){const i=t.ahe_bndVls[s],n=e[i.valueName];i.lastData!==n&&(i.textElement.textContent=n,i.lastData=n)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_srcCms.length;s++){const i=t.ahe_srcCms[s],n=e[i.valueName]??"";i.lastData!==n&&(i.textElement.src=n,i.lastData=n)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_srcCmsFns.length;s++){const i=t.ahe_srcCmsFns[s],n=e[i.valueName]()??"";i.lastData!==n&&(i.textElement.src=n,i.lastData=n)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_bndFns.length;s++){const i=t.ahe_bndFns[s],n=e[i.valueName]();i.lastData!==n&&(i.textElement.textContent=n,i.lastData=n)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_nVls.length;s++){const i=t.ahe_nVls[s],n=e[i.valueName];i.lastData!==n&&(i.textElement.innerHTML=n,i.lastData=n)}})(this),(t=>{const e=t.ahe_cmt;for(let s=0;s<t.ahe_nFns.length;s++){const i=t.ahe_nFns[s],n=e[i.valueName]();i.lastData!==n&&(i.textElement.innerHTML=n,i.lastData=n)}})(this),this.ahe_onChgDtd$.next(!0)}sendMessage(t){this.ahe_onMsg$.next(t)}sendMessageToParent(t){return!!this.ahe_pnt_chl&&(this.ahe_pnt_chl.sendMessage(t),!0)}getChannel(t){if(t&&t.ahe_isCustomAppElement)return t}transferToChannel(t,e){this.onMessage$().pipe().refine((()=>t())).subscribe((s=>{t().sendMessage(e(s))}))}sendToChannel(t,e){t?.sendMessage(e)}isAppElement(t){return!!t?.ahe_isCustomAppElement}collect(...t){this.ahe_clr.collect(...t)}destroy(){Qt(this),this.ahe_onAdt$.destroy(),this.ahe_bfrIni$.destroy(),this.ahe_bfrDst$.destroy(),this.ahe_atrChd$.destroy(),this.ahe_bfrDctChg$.destroy(),this.ahe_onChgDtd$.destroy(),this.ahe_onMsg$.destroy(),this.ahe_onPChlRdy$.destroy(),this.ahe_clr.destroy()}}return e}const qt="{display: contents !important;}",Jt=[`html-block ${qt}`],Zt=new p(!1),te=(t,e)=>{for(let e=0;e<t.length;e++)Jt.push(`${t[e].tagName} ${qt}`),t[e].element.qsi_app_tag_name=t[e].tagName;mt((()=>{for(let e=0;e<t.length;e++)customElements.define(t[e].tagName,t[e].target);e&&Zt.next(!0)}))},ee=(t,e,s)=>({tagName:e,target:jt({template:s,element:t}),element:t}),se="01234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",ie=()=>((t,e)=>{e=Math.round(e/2);let s="id# ";s+="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM"[Math.round(51*Math.random())]+(Math.round(Math.random())?":-."[Math.round(2*Math.random())]:se[Math.round(62*Math.random())]);for(let t=1;t<e;t++)s+=se[Math.round(62*Math.random())]+(Math.round(Math.random())?":-."[Math.round(2*Math.random())]:se[Math.round(62*Math.random())]);return s})(0,32),ne=[{type:x.FOOD,name:{[a.EN]:"Bread",[a.RU]:"RU Bread",[a.UA]:"UA Bread"},comment:{[a.EN]:"Don't eat it for dinner",[a.RU]:"RU Don't eat it for dinner",[a.UA]:"UA Don't eat it for dinner"},description:{[a.EN]:"White Ukrainian bread",[a.RU]:"RU White Ukrainian bread",[a.UA]:"UA White Ukrainian bread"},isFavorite:!0,isFail:!1,isSelected:!0,id:ie(),count:3,price:10,cost:0,startDate:0,endDate:0},{type:x.FOOD,name:{[a.EN]:"Apple",[a.RU]:"RU Apple",[a.UA]:"UA Apple"},comment:{[a.EN]:"Very useful",[a.RU]:"RU Very useful",[a.UA]:"UA Very useful"},description:{[a.EN]:"Red apple",[a.RU]:"RU Red apple",[a.UA]:"UA Red apple"},isFavorite:!0,isFail:!1,isSelected:!1,id:ie(),count:1,price:15,cost:15,startDate:0,endDate:0},{type:x.FOOD,name:{[a.EN]:"Cupcake",[a.RU]:"RU Cupcake",[a.UA]:"UA Cupcake"},comment:{[a.EN]:"Very sweet",[a.RU]:"RU Very sweet",[a.UA]:"UA Very sweet"},description:{[a.EN]:"Cupcake with chocolate",[a.RU]:"RU Cupcake with chocolate",[a.UA]:"UA Cupcake with chocolate"},isFavorite:!1,isFail:!1,isSelected:!0,id:ie(),count:1,price:40,cost:40,startDate:0,endDate:0},{type:x.GOODS,name:{[a.EN]:"Knife",[a.RU]:"RU Knife",[a.UA]:"UA Knife"},comment:{[a.EN]:"Dangerous",[a.RU]:"RU Dangerous",[a.UA]:"UA Dangerous"},description:{[a.EN]:"Iron knife",[a.RU]:"RU Iron knife",[a.UA]:"UA Iron knife"},isFavorite:!1,isFail:!1,isSelected:!1,id:ie(),count:1,price:100,cost:100,startDate:0,endDate:0},{type:x.GOODS,name:{[a.EN]:"Table",[a.RU]:"RU Table",[a.UA]:"UA Table"},comment:{[a.EN]:"New desktop",[a.RU]:"RU New desktop",[a.UA]:"UA New desktop"},description:{[a.EN]:"Brown table",[a.RU]:"RU Brown table",[a.UA]:"UA Brown table"},isFavorite:!1,isFail:!1,isSelected:!0,id:ie(),count:1,price:1e3,cost:1e3,startDate:0,endDate:0}],oe=t.name;let ae="";for(let t=0;t<oe.length;t++){const e=oe[t];let s="";for(let t=0;t<26;t++){const i="abcdefghijklmnopqrstuvwxyz"[t];if(i===e.toLowerCase()){s=i;break}}ae+=s||"-"}const re="app-"+ae,he=[ee(class{constructor(t){this.root=t,this.name=t.tagName,this.init()}onCreate(){this.root.collect(this.handleMenuEvents())}onInit(){this.initMainChanel(),this.root.sendToChannel(this.mainChanel,"INIT COMPLETE")}onDestroy(){}init(){W.update(ne)}initMainChanel(){this.mainChanel=this.root.getChannel(this.main)}handleMenuEvents(){return $.subscribe((t=>{if(this.isChoiceItemClick(t))switch(t.item){case v.TASKS:W.setTaskList(v.TASKS);break;case v.FAVORITE:W.setTaskList(v.FAVORITE);break;case v.FOOD:W.setTaskList(v.FOOD);break;case v.GOODS:W.setTaskList(v.GOODS)}}))}isChoiceItemClick(t){return t.menuAction===N.ITEM_CLICK&&t.owner===A.CHOICE}},re,"<div class='zaO53_V_tr'><div class='X9sbPBx9rr'><app-header></app-header><app-main qsi-inject_to='main'></app-main><app-footer></app-footer></div></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){}onInit(){}onDestroy(){}},"app-header","<div class='xFfY2-L_tq'><app-choice></app-choice><app-account></app-account><app-menu></app-menu></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){this.root.transferToChannel((()=>this.taskListChanel),(t=>t))}onInit(){this.initTaskListChanel()}onDestroy(){}initTaskListChanel(){this.taskListChanel=this.root.getChannel(this.taskList)}},"app-main","<div class='Xkr-I-z-te'><app-baner></app-baner><div class='fBCN9_eLre'><app-task_list qsi-inject_to='taskList'></app-task_list></div><app-menu_list></app-menu_list></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){}onInit(){}onDestroy(){}},"app-footer","<div class='SSi_Gsf_tw'><app-author></app-author><app-current_date></app-current_date></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName,this.isArrowBackShow=!1,this.isMenuOpened=!1}onCreate(){this.root.collect(this.menuEventsHandle())}onInit(){}onDestroy(){}onClick(){this.isMenuOpened||!G(A.SETTINGS)?(this.isMenuOpened=!1,K()):this.isMenuOpened=!0}menuEventsHandle(){return $.pipe().refine((t=>t.menuAction!==N.SHOW?(this.isMenuOpened=!1,!1):this.isArrowBackShow!==t.isShow)).subscribe((t=>{this.isArrowBackShow=t.isShow,t.isShow||(this.isMenuOpened=!1),this.root.detectChanges()}))}},"app-menu","<div class='jDW_p1dGrt' qsi-click='onClick' qsi-cls='isArrowBackShow?K-S-u-2-e:l_W_Pws_wt'></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){}onInit(){}onDestroy(){}onClick(){B()?K():G(A.ACCOUNT)}},"app-account","<div class='o_R_J_8_er egnu0_a_p' qsi-click='onClick'></div>"),ee(class{constructor(t){this.root=t,this.initializeAttributes()}onCreate(){this.root.collect(this.subscribeToLocaleChange(),this.subscribeToMenuSelectionChange())}onInit(){}onDestroy(){}onClick(){B()?K():G(A.CHOICE)}initializeAttributes(){this.name=this.root.tagName,this.currentLocalizedText=M[L.TASKS],this.taskName=T.getLocalizedTextByLocation(this.currentLocalizedText)}subscribeToMenuSelectionChange(){return $.pipe().refine((t=>t.owner===A.CHOICE&&t.menuAction===N.ITEM_CLICK)).subscribe((t=>{this.currentLocalizedText=M[t.item],this.taskName=T.getLocalizedTextByLocation(this.currentLocalizedText),this.root.detectChanges()}))}subscribeToLocaleChange(){return E.subscribe((t=>{this.taskName=T.getLocalizedText(this.currentLocalizedText,t),this.root.detectChanges()}))}},"app-choice","<div class='X-t-INZZeo' qsi-click='onClick'> <qsi-bind>taskName</qsi-bind></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){}onInit(){}onDestroy(){}},"app-author","<div class='r_r-s-4-ep'> Hello author.html</div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName,this.separator=":",this.updateDate()}onCreate(){}onInit(){this.handleTime()}onDestroy(){}handleTime(){this.timer=setInterval((()=>{this.updateDate(),this.root.detectChanges()}),500)}updateDate(){const t=this.separator;this.isShowSecondSeparator=!this.isShowSecondSeparator;const e=new Date,s=Y(e.getSeconds()),i=Y(e.getMinutes()),n=Y(e.getHours()),o=Y(e.getDate()),a=Y(e.getMonth()+1),r=Y(e.getFullYear());this.date=`${r}${t}${a}${t}${o} `,this.time=`${n}${t}${i} `,this.second=`${s}`}},"app-current_date","<div class='Q_E_qR8_wq'><span><qsi-bind>date</qsi-bind></span><span><qsi-bind>time</qsi-bind></span><span qsi-cls='x-1-5Ho_rp:isShowSecondSeparator'><qsi-bind>separator</qsi-bind></span><span><qsi-bind>second</qsi-bind></span></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName,this.init()}onCreate(){this.root.collect(V.subscribe((()=>{this.selectedTasksSum=this.getSelectedTasksSum(),this.root.detectChanges()})),H.subscribe((()=>{this.selectedTasksSum=this.getSelectedTasksSum(),this.root.detectChanges()})),E.subscribe((()=>{this.setTexts(),this.root.detectChanges()})))}onInit(){}onDestroy(){}getSelectedTasksSum(){return W.getSelectedTasksSum()+""}setTexts(){this.selectedSumTxt=T.getLocalizedTextByLocation(this.selectedSum)}init(){this.selectedSum=Q.selectedSum,this.selectedSumTxt="",this.selectedTasksSum=this.getSelectedTasksSum(),this.setTexts()}},"app-baner","<div class='H-q-S4pory'> <qsi-bind>selectedSumTxt</qsi-bind><span>&nbsp</span><qsi-bind>selectedTasksSum</qsi-bind></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName,this.currentView=v.TASKS,this.viewList=[],this.searchText=""}onCreate(){this.subscribeToObservables()}onInit(){}onDestroy(){}subscribeToObservables(){this.root.collect(V.subscribe((()=>{this.refreshTaskList(),this.root.detectChanges()})),H.subscribe((t=>{this.currentView=t,this.refreshTaskList(),this.root.detectChanges()}))),this.root.onMessage$().subscribe((()=>{this.refreshTaskList(),this.root.detectChanges()}))}refreshTaskList(){const t=W.getTasksByList(this.currentView);this.viewList=t.filter((t=>this.applySearchFilter(t)))}applySearchFilter(t){return!this.searchText||T.getLocalizedTextByLocation(t.name).toLowerCase().includes(this.searchText.toLowerCase())}},"app-task_list","<div class='oIi_iNrDrq'><app-task qsi-for='viewList'></app-task></div>"),ee(class{constructor(t){this.root=t,this.tagName=t.tagName,this.defaultInit()}onCreate(){this.root.onMessage$().subscribe((t=>{for(const e in t)this[e]=t[e];this.setTexts(),this.root.detectChanges()})),this.root.collect(E.subscribe((()=>{this.setTexts(),this.root.detectChanges()})))}onInit(){this.setTexts()}onDestroy(){}favoriteClick(t){W.clickHandler(t,this.id,P.FAVORITE_CLICK)}setTexts(){this.nameTxt=T.getLocalizedTextByLocation(this.name),this.descriptionTxt=T.getLocalizedTextByLocation(this.description),this.commentTxt=T.getLocalizedTextByLocation(this.comment),this.nameFieldTxt=T.getLocalizedTextByLocation(X.name),this.descriptionFieldTxt=T.getLocalizedTextByLocation(X.description),this.commentFieldTxt=T.getLocalizedTextByLocation(X.comment),this.costFieldTxt=T.getLocalizedTextByLocation(X.cost),this.countFieldTxt=T.getLocalizedTextByLocation(X.count),this.priceFieldTxt=T.getLocalizedTextByLocation(X.price),this.typeFieldTxt=T.getLocalizedTextByLocation(X.type),this.setTitle()}defaultInit(){this.comment={},this.commentTxt="",this.cost=0,this.count=0,this.description={},this.descriptionTxt="",this.endDate=0,this.id="",this.isFail=!1,this.isFavorite=!1,this.isSelected=!1,this.name={},this.nameTxt="",this.price=0,this.startDate=0,this.type=x.NULL}setTitle(){this.root.title=this.commentTxt,this.hover&&(this.hover.title=this.commentTxt)}},"app-task","<div class='IGd-O_hNru J_3_j-q_wp' qsi-inject_to='hover'><div qsi-click='favoriteClick' qsi-cls='UBdHc-m-we L-ymdQG_w:isFavorite'></div><div class='BpX_vZb-et'><div class='pkz-f-l-ro'> <qsi-bind>count</qsi-bind><span>&nbsp</span><qsi-bind>nameTxt</qsi-bind> </div><div class='w8x_sAX-t pkz-f-l-ro'> <qsi-bind>descriptionTxt</qsi-bind> </div><div class='n-cIW-k-wu'><div class='pkz-f-l-ro'> <qsi-bind>priceFieldTxt</qsi-bind><span>: </span><qsi-bind>price</qsi-bind> </div><div class='pkz-f-l-ro'> <qsi-bind>costFieldTxt</qsi-bind><span>: </span><qsi-bind>cost</qsi-bind> </div></div></div><app-task_controls></app-task_controls></div>"),ee(class{constructor(t){this.isMenuShow=!1,this.isDisplayNone=!0,this.root=t,this.name=t.tagName,this.showTimer=0,this.items=[],this.owner=A.NULL,this.ownerName=A.NULL}onCreate(){this.showHandler(),this.changeLanguage()}onInit(){}onDestroy(){}btnClick(){K()}showHandler(){this.root.collect($.pipe().refine((t=>t.menuAction===N.SHOW)).subscribe((t=>{this.initOwnerData(t),this.initItems(),this.handleAnimation(),this.root.detectChanges()})))}initOwnerData(t){this.owner=t.owner,this.owner!==A.NULL&&(this.ownerName=T.getLocalizedTextByLocation(y[this.owner])),this.isMenuShow=t.isShow}handleAnimation(){clearTimeout(this.showTimer),this.isMenuShow?this.isDisplayNone=!1:this.showTimer=setTimeout((()=>{this.isDisplayNone=!0,this.root.detectChanges()}),1e3)}changeLanguage(){this.root.collect(T.onLocationChange((t=>{this.handleTitleLocale(t),this.handleItemsLocale(t),this.root.detectChanges()})))}handleTitleLocale(t){this.owner!==A.NULL&&(this.ownerName=T.getLocalizedText(y[this.owner],t))}initItems(){switch(this.items.length=0,this.owner){case A.SETTINGS:this.fillItems(k);break;case A.ACCOUNT:this.fillItems(F);break;case A.CHOICE:this.fillItems(M)}}fillItems(t){for(const e in t){const s={owner:this.owner,type:e,text:T.getLocalizedTextByLocation(t[e])};this.items.push(s)}}handleItemsLocale(t){for(const e of this.items)switch(e.owner){case A.SETTINGS:e.text=T.getLocalizedText(k[e.type],t);break;case A.ACCOUNT:e.text=T.getLocalizedText(F[e.type],t);break;case A.CHOICE:e.text=T.getLocalizedText(M[e.type],t)}}},"app-menu_list","<div class='C-jYK-J-u' qsi-click='btnClick' qsi-if='isMenuShow'></div><div class='D-7Hk5t-ey' qsi-cls='IRx_EV94rw:isDisplayNone isMenuShow?R-0Tu_O_ee:UUn-dXS-wy'><div class='cTK-2_q8eq'><div class='QRB_t-Y_wi' qsi-click='btnClick'><div class='wPz_CIJ_r'></div> <qsi-bind>ownerName</qsi-bind> <div class='U_7_iXh-wo jtL_j_z_y'></div></div><div class='GcgLrT4www'><app-menu_item qsi-for='items'></app-menu_item></div></div></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName,this.currentLang=E.getValue(),this.owner=A.NULL,this.setting="",this.langList=U,this.isShowLangViewBox=!1}onCreate(){this.root.onMessage$().subscribe((t=>{this.text=t.text,this.owner=t.owner,this.setting=t.type,this.root.detectChanges()})),this.root.collect(this.handleLocationChange())}onInit(){}onDestroy(){}onClick(t){switch(t.preventDefault(),t.stopPropagation(),function(t,e){if(t===A.SETTINGS&&e===f.LANGUAGE)return;K();const s=$.getValue();s.item=e,s.owner=t,s.menuAction=N.ITEM_CLICK,$.next(s)}(this.owner,this.setting),this.owner){case A.SETTINGS:this.handleSettingsClick();case A.CHOICE:case A.ACCOUNT:}}isSettingLang(){return this.owner===A.SETTINGS&&this.setting===f.LANGUAGE}handleSettingsClick(){switch(this.setting){case f.LANGUAGE:this.settingLangClick();case f.THEME:case f.TIME_OPTION:}}settingLangClick(){this.isShowLangViewBox=!this.isShowLangViewBox,this.root.detectChanges()}handleLocationChange(){return E.subscribe((t=>{this.isShowLangViewBox=!1,this.currentLang=t,this.root.detectChanges()}))}},"app-menu_item","<div class='CR3_hRT_eu' qsi-click='onClick'> <qsi-bind>text</qsi-bind> <div class='PU2-ubVHi'></div><div class='tpLsl5m-ei' qsi-if='isSettingLang'><div class='o_N_8_c-o'></div> <qsi-bind>currentLang</qsi-bind> <div class='HJs-1-iuwr' qsi-if='isShowLangViewBox'><app-settings_lang qsi-for='langList'></app-settings_lang></div></div></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){this.root.onMessage$().subscribe((t=>{this.localeTxt=t,this.root.detectChanges()}))}onInit(){}onDestroy(){}onClick(t){t.preventDefault(),t.stopPropagation(),E.next(this.localeTxt)}},"app-settings_lang","<div class='kKY_N_v-ri' qsi-click='onClick'><div class='A-wUzVS-ew'></div> <qsi-bind>localeTxt</qsi-bind></div>"),ee(class{constructor(t){this.root=t,this.name=t.tagName}onCreate(){}onInit(){}onDestroy(){}},"app-task_controls","<div class='W_R_y_H-q'></div>")];const ce=new class{constructor(){this.isDestroyed=!1,this.popstate=this.popState.bind(this),this.state$=new p(""),j.addEventListener("popstate",this.popstate),this.popState()}set(t){this.isDestroyed||(j.history.pushState({},"",t),this.popState())}setWithoutHistory(t){this.isDestroyed||(j.history.replaceState({},"",t),this.popState())}subscribe(t){if(!this.isDestroyed)return this.state$.subscribe(t)}destroy(){j.removeEventListener("popstate",this.popstate),this.state$.destroy(),this.isDestroyed=!0}popState(){const t=j.location.pathname;this.state$.next(t)}};var le;!function(t){t.SHOW="SHOW",t.SHOW_WITHOUT_HISTORY="SHOW_WITHOUT_HISTORY",t.HIDDEN="HIDDEN"}(le||(le={}));let ue=le.SHOW;const de=new p(""),me=new p(null);let _e;const pe=new g;const ge=new p(null),Ee={};ge.pipe().refine((t=>t)).subscribe((t=>{const e=Ee[t.name];e&&e.subRoute?e.subRoute.setPage(t.page):console.log("ERROR:",`Subroute "${t.name}" is not registered or does not have an active instance.`)})),te([ee(class{},ot.TEXT_VALUE.toLowerCase(),""),ee(class{},ot.QSI_BIND.toLowerCase(),""),ee(class{constructor(t){this.root=t,this.cmd={},this.path={}}onInit(){this.process()}onDestroy(){pe.unsubscribeAll()}process(){pe.collect(de.pipe().refine((t=>!!t)).subscribe((t=>this.setCommand(t))),ce.subscribe((t=>this.setHistory(t)))),me.getValue()?this.init():me.pipe().refine((t=>!!t)).setOnce().subscribe((()=>this.init()))}init(){let t=me.getValue();_e=t.defaultCmd;const e=t.routes;for(let t=0;t<e.length;t++)this.cmd[e[t].command]=e[t],this.path[e[t].path]=e[t];this.setCommand(_e)}setCommand(t){switch(this.setRoute(this.cmd[t]),ue){case le.HIDDEN:break;case le.SHOW:ce.set(this.cmd[t].path);break;case le.SHOW_WITHOUT_HISTORY:ce.setWithoutHistory(this.cmd[t].path)}}setHistory(t){t in this.path&&this.setRoute(this.path[t])}setRoute(t){const e=t.component.qsi_app_tag_name;this.root.innerHTML=`<${e}></${e}>`}},ot.APP_ROUTE.toLowerCase(),""),ee(class{constructor(t){if(this.root=t,this.isDestroyed=!0,this.name=t.getAttribute("name")||"",this.registered=Ee[this.name],!this.registered)throw new Error(`Subroute with the name "${this.name}" not found`);this.registered.subRoute=this}onInit(){this.isDestroyed=!1,this.setPage(this.registered.defaultPage)}onDestroy(){this.isDestroyed=!0}setPage(t){if(this.isDestroyed)return;const e=this.registered.pages[t];if(!e)return void console.error(`Page with name "${t}" not found in subroute "${this.name}"`);const s=e.qsi_app_tag_name;this.root.innerHTML=`<${s}></${s}>`}},ot.APP_SUB_ROUTE.toLowerCase(),"")]);const Te=new class{constructor(){this.isComponentMode=!1}register(t){te(t,!0)}run(t){this.isComponentMode=!!t,mt((()=>{this.process()}))}process(){this.init(),this.start()}init(){this.isComponentMode||(this.appElement=at(re))}start(){const t=rt(Jt.join("")),e=rt("@font-face {font-family: Tahoma;src: url('assets/fonts/tahoma.ttf') format('truetype');}@keyframes button-animation {}@keyframes menu_list_animation_show {0% {display: none;width: 0;}100% {display: flex;width: 358px;}}@keyframes menu_list_animation_hidden {0% {display: flex;width: 358px;}100% {width: 0;display: none;}}* {padding: 0;margin: 0;box-sizing: border-box;overflow: auto;}body {overflow: hidden;}.zaO53_V_tr {width: 100vw;height: 100vh;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;min-width: 100vw;min-height: 100vh;font-family: Tahoma, serif;font-size: 23px;letter-spacing: 1px;}.zaO53_V_tr .xFfY2-L_tq {width: 100%;height: 100px;min-width: 100%;min-height: 100px;padding: 10px;display: flex;flex-flow: row nowrap;justify-content: space-between;align-items: center;overflow: hidden;}.zaO53_V_tr .jDW_p1dGrt {width: 85px;height: 85px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;min-width: 85px;min-height: 85px;margin-right: 5px;margin-left: 5px;}.zaO53_V_tr .jDW_p1dGrt:hover {animation: button-animation 1s;}.zaO53_V_tr .header-menu-hover {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .header-menu-hover:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .l_W_Pws_wt {background: url('assets/images/menu.png') no-repeat center;background-size: 50%;}.zaO53_V_tr .K-S-u-2-e {background: url('assets/images/arrow_back.png') no-repeat center;background-size: 30%;}.zaO53_V_tr .X-t-INZZeo {width: 100%;height: 85px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;margin-right: 5px;margin-left: 5px;text-transform: uppercase;font-size: 20px;font-weight: bold;text-align: center;color: #802b51;}.zaO53_V_tr .X-t-INZZeo:hover {animation: button-animation 1s;}.zaO53_V_tr .header-choice-hover {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .header-choice-hover:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .o_R_J_8_er {width: 85px;height: 85px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;min-width: 85px;min-height: 85px;margin-right: 5px;margin-left: 5px;}.zaO53_V_tr .o_R_J_8_er:hover {animation: button-animation 1s;}.zaO53_V_tr .header-account-hover {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .header-account-hover:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .egnu0_a_p {background: url('assets/images/account.png') no-repeat;background-size: cover;}.zaO53_V_tr .Xkr-I-z-te {position: relative;width: 100%;height: 100%;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;flex-grow: 1;}.zaO53_V_tr .fBCN9_eLre {width: 100%;height: 100%;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;flex-grow: 1;}.zaO53_V_tr .H-q-S4pory {width: 100%;height: 40px;display: flex;flex-flow: row nowrap;align-items: center;justify-content: center;background: #f5f5f5;border-top: 1px solid rgba(0, 0, 0, 0.2);border-bottom: 1px solid rgba(0, 0, 0, 0.2);overflow: hidden;}.zaO53_V_tr .D-7Hk5t-ey {position: absolute;top: 0;left: 0;height: 100%;display: flex;flex-flow: column nowrap;align-items: flex-start;justify-content: flex-start;background: #fff;}.zaO53_V_tr .Xkr-I-z-te .C-jYK-J-u {width: 100%;height: 100%;position: absolute;top: 0;left: 0;}.zaO53_V_tr .Xkr-I-z-te .R-0Tu_O_ee {overflow: hidden;animation: menu_list_animation_show 0.5s forwards;}.zaO53_V_tr .Xkr-I-z-te .UUn-dXS-wy {overflow: hidden;animation: menu_list_animation_hidden 0.5s forwards;}.zaO53_V_tr .Xkr-I-z-te .cTK-2_q8eq {position: absolute;top: 0;right: 0;border: 1px solid rgba(0, 0, 0, 0.2);width: 360px;height: 100%;min-width: 360px;min-height: 100%;display: flex;flex-flow: column nowrap;align-items: flex-start;justify-content: flex-start;}.zaO53_V_tr .Xkr-I-z-te .QRB_t-Y_wi {width: 100%;height: 40px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;display: flex;flex-flow: row nowrap;justify-content: space-between;padding: 4px 10px;border-bottom: 1px solid rgba(0, 0, 0, 0.2);user-select: none;cursor: pointer;overflow: hidden;}.zaO53_V_tr .Xkr-I-z-te .QRB_t-Y_wi:hover {animation: button-animation 1s;}.zaO53_V_tr .Xkr-I-z-te .wPz_CIJ_r {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .Xkr-I-z-te .wPz_CIJ_r:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .Xkr-I-z-te .U_7_iXh-wo {width: 30px;height: 30px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;}.zaO53_V_tr .Xkr-I-z-te .U_7_iXh-wo:hover {animation: button-animation 1s;}.zaO53_V_tr .Xkr-I-z-te .menu_list-button-hover {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .Xkr-I-z-te .menu_list-button-hover:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .Xkr-I-z-te .jtL_j_z_y {background: url('assets/images/arrow_back.png') no-repeat center;background-size: 80%;}.zaO53_V_tr .Xkr-I-z-te .GcgLrT4www {width: 100%;height: 100%;display: flex;flex-flow: column nowrap;align-items: flex-start;justify-content: flex-start;padding-right: 10px;padding-left: 10px;}.zaO53_V_tr .Xkr-I-z-te .IRx_EV94rw {display: none;}.zaO53_V_tr .CR3_hRT_eu {width: 100%;height: 60px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;align-items: flex-start;justify-content: center;padding-left: 10px;margin-top: 0px;box-shadow: 0 1px 1px rgba(0, 0, 0, 0.07);overflow: visible;}.zaO53_V_tr .CR3_hRT_eu:hover {animation: button-animation 1s;}.zaO53_V_tr .PU2-ubVHi {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .PU2-ubVHi:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .CR3_hRT_eu * {overflow: visible;}.zaO53_V_tr .tpLsl5m-ei {width: 50px;height: 50px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;position: absolute;right: 10px;overflow: visible;}.zaO53_V_tr .tpLsl5m-ei:hover {animation: button-animation 1s;}.zaO53_V_tr .o_N_8_c-o {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .o_N_8_c-o:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .HJs-1-iuwr {position: absolute;top: 0;cursor: default;width: 50px;height: fit-content;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;min-width: 50px;min-height: fit-content;background: #f5f5f5;z-index: 10;}.zaO53_V_tr .Xkr-I-z-te .kKY_N_v-ri {width: 40px;height: 50px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;position: relative;cursor: pointer;user-select: none;overflow: hidden;margin: 5px;background: #fbfbfb;}.zaO53_V_tr .Xkr-I-z-te .kKY_N_v-ri:hover {animation: button-animation 1s;}.zaO53_V_tr .Xkr-I-z-te .A-wUzVS-ew {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}.zaO53_V_tr .Xkr-I-z-te .A-wUzVS-ew:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .oIi_iNrDrq {width: 100%;height: 100%;max-width: 100%;max-height: 100%;display: flex;flex-flow: column nowrap;align-items: flex-start;justify-content: flex-start;}.zaO53_V_tr .IGd-O_hNru {width: 100%;height: 100px;min-width: 100%;min-height: 100px;display: flex;flex-flow: row nowrap;justify-content: flex-start;box-shadow: 0 1px 1px rgba(0, 0, 0, 0.07);position: relative;cursor: pointer;user-select: none;padding: 5px;}.zaO53_V_tr .J_3_j-q_wp:hover {background: rgba(0, 0, 0, 0.05);}.zaO53_V_tr .UBdHc-m-we {width: 50px;height: 100%;min-width: 50px;min-height: 100%;}.zaO53_V_tr .L-ymdQG_w {background: url('assets/images/favorite32.png') no-repeat center;background-size: 80%;}.zaO53_V_tr .BpX_vZb-et {width: 100%;height: 100%;display: flex;flex-flow: column nowrap;justify-content: center;align-items: flex-start;padding: 5px;}.zaO53_V_tr .IGd-O_hNru .pkz-f-l-ro {width: 100%;text-overflow: ellipsis;overflow: hidden;text-wrap: nowrap;}.zaO53_V_tr .w8x_sAX-t {font-size: 14px;color: rgba(0, 0, 0, 0.4);}.zaO53_V_tr .n-cIW-k-wu {display: flex;flex-flow: column nowrap;align-items: flex-start;justify-content: flex-start;font-size: 14px;}.zaO53_V_tr .W_R_y_H-q {background: rgba(0, 250, 250, 0.2);width: 120px;height: 100%;min-width: 120px;min-height: 100%;display: flex;flex-flow: row nowrap;align-items: flex-start;justify-content: flex-start;}.zaO53_V_tr .SSi_Gsf_tw {width: 100%;height: 100px;min-width: 100%;min-height: 100px;display: flex;flex-flow: column nowrap;justify-content: space-between;align-items: center;border-top: 1px solid rgba(0, 0, 0, 0.2);overflow: hidden;}.zaO53_V_tr .r_r-s-4-ep {width: 100%;height: 30px;display: flex;flex-flow: column nowrap;align-items: center;justify-content: center;min-width: 100%;min-height: 30px;overflow: hidden;}.zaO53_V_tr .Q_E_qR8_wq {width: 100%;height: 100%;display: flex;flex-flow: row nowrap;align-items: center;justify-content: center;overflow: hidden;}.zaO53_V_tr .Q_E_qR8_wq span {margin-left: 10px;font-weight: bold;}.zaO53_V_tr .SSi_Gsf_tw .x-1-5Ho_rp {visibility: hidden;}.X9sbPBx9rr {width: 100%;height: 100%;max-width: 800px;max-height: 100%;background: #fbfbfb;border: 1px solid rgba(0, 0, 0, 0.2);display: flex;flex-flow: column nowrap;align-items: flex-start;justify-content: flex-start;overflow: hidden;}");lt(q.head,t),lt(q.head,e),!this.isComponentMode&&lt(q.body,this.appElement)}};o.init(),T.setLocation(a.EN),Te.register(he),Te.run()})();